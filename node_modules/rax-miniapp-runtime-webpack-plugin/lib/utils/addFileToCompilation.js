"use strict";

var _require = require('path'),
    extname = _require.extname;

var _require2 = require('./minifyCode'),
    minify = _require2.minify; // Add file to compilation


module.exports = function (compilation, _ref) {
  var filename = _ref.filename,
      content = _ref.content,
      _ref$command = _ref.command,
      command = _ref$command === void 0 ? 'build' : _ref$command,
      target = _ref.target;
  compilation.assets["" + filename] = {
    source: function source() {
      return command === 'build' ? minify(content, extname(filename)) : content;
    },
    size: function size() {
      return Buffer.from(content).length;
    }
  };
};
import * as ts from 'typescript';
import { isObjectType } from './flags';

export const isWhiteObjectType = (type: ts.Type) => {
  const symbol = type.getSymbol() || type.aliasSymbol;
  if (!symbol?.declarations?.[0]) {
    return false;
  }
  const { fileName } = symbol.declarations[0].getSourceFile();
  // console.log('fileName', symbol.getName(), fileName);

  return ['@types/react', '@types/rax'].some((vo) => fileName.includes(vo));
};

export const isObjectProp = (type: ts.Type) => {
  if (isWhiteObjectType(type)) {
    return false;
  }
  return type.isClassOrInterface() || isObjectType(type);
};

"use strict";

exports.__esModule = true;
exports.default = void 0;

var _host = _interopRequireDefault(require("./host"));

var _base = _interopRequireDefault(require("./base"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

/**
 * Text Component
 */
var TextComponent = /*#__PURE__*/function (_BaseComponent) {
  _inheritsLoose(TextComponent, _BaseComponent);

  function TextComponent() {
    return _BaseComponent.apply(this, arguments) || this;
  }

  var _proto = TextComponent.prototype;

  _proto.__updateComponent = function __updateComponent(prevElement, nextElement, context) {
    nextElement = '' + nextElement; // If text is some value that do not update even there number 1 and string "1"

    if (prevElement !== nextElement) {
      // Replace current element
      this.__currentElement = nextElement;

      _host.default.driver.updateText(this.__getNativeNode(), nextElement);

      if (process.env.NODE_ENV !== 'production') {
        this._stringText = this.__currentElement;

        _host.default.reconciler.receiveComponent(this);
      }
    }
  };

  _proto.__createNativeNode = function __createNativeNode() {
    if (process.env.NODE_ENV !== 'production') {
      this._stringText = this.__currentElement;
    }

    return _host.default.driver.createText(this.__currentElement, this);
  };

  return TextComponent;
}(_base.default);

var _default = TextComponent;
exports.default = _default;
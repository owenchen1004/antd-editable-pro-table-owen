"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var utils_1 = require("../utils");

var Cache = function () {
  function Cache() {
    this._root = null;
    this._store = new Map();
  }

  Cache.prototype.empty = function () {
    return this._store.size === 0;
  };

  Cache.prototype.has = function (key) {
    return this._store.has(key);
  };

  Cache.prototype.get = function (key, defaultValue) {
    var res = this.has(key) ? this._store.get(key) : this.root();
    return utils_1.isNil(res) ? defaultValue : res;
  };

  Cache.prototype.add = function (key, value) {
    if (this.empty()) {
      this._root = key;
    }

    this._store.set(key, value);
  };

  Cache.prototype.remove = function (key) {
    this._store.delete(key);
  };

  Cache.prototype.root = function () {
    return this._store.get(this._root);
  };

  return Cache;
}();

exports.default = Cache;
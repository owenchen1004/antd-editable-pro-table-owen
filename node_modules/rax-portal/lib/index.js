"use strict";

exports.__esModule = true;
exports.default = void 0;

var _rax = require("rax");

var _raxCreatePortal = _interopRequireDefault(require("rax-create-portal"));

var _universalEnv = require("universal-env");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Portal = function (props) {
  var children = props.children,
      _props$container = props.container,
      container = _props$container === void 0 ? document.body : _props$container;
  var el = (0, _rax.useRef)(document.createElement('div'));
  (0, _rax.useEffect)(function () {
    // no container, skip render
    if (!container) {
      return undefined;
    }

    if (_universalEnv.isMiniApp || _universalEnv.isWeb) {
      container.appendChild(el.current);
    } else {
      setTimeout(function () {
        return container.appendChild(el.current);
      });
    }

    return function () {
      container.removeChild(el.current);
    };
  }, []);
  return (0, _raxCreatePortal.default)(children, el.current);
};

var _default = Portal;
exports.default = _default;
import { link, image } from 'mdast-builder';

export const tnpmVersionBadge = (name: string, version?: string) =>
  link(
    `https://npm.alibaba-inc.com/package/${name}`,
    '',
    image(
      version
        ? `https://badgen.net/badge/tnpm/v${version}`
        : `https://npm.alibaba-inc.com/badge/v/${name}.svg`,
      '',
      'TNPM version'
    )
  );
export const tnpmDownloadsBadge = (name: string) =>
  link(
    `https://npm.alibaba-inc.com/package/${name}`,
    '',
    image(
      `https://npm.alibaba-inc.com/badge/d/${name}.svg`,
      '',
      'TNPM downloads'
    )
  );

export const gitlabEnhancementIssueBadge = (
  issueUrl: string,
  content = '提需求'
) =>
  link(
    issueUrl,
    content,
    image(
      `https://badgen.net/badge/icon/${encodeURIComponent(
        content
      )}?icon=gitlab&label&color=cyan`,
      '',
      content
    )
  );

export const gitlabBugIssueBadge = (issueUrl: string, content = '提Bug') =>
  link(
    issueUrl,
    content,
    image(
      `https://badgen.net/badge/icon/${encodeURIComponent(
        content
      )}?icon=gitlab&label&color=red`,
      '',
      content
    )
  );

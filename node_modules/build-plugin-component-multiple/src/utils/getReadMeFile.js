const path = require('path');
const glob = require('glob');

module.exports = function (rootDir, componentName, isSingle) {
  let files = [];

  if (isSingle) {
    files = glob.sync('+(readme|README).md', {
      cwd: rootDir,
      absolute: true,
    });
  } else {
    const componentDir = path.join(rootDir, `docs/${componentName}`);
    files = glob.sync('+(readme|README|index|INDEX).md', {
      cwd: componentDir,
      absolute: true,
    });
  }

  let readmePath = '';

  if (files.length > 0) {
    readmePath = files[0];
  }

  return readmePath;
};

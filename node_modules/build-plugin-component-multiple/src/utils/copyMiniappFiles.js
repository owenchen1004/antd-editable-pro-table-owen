const fse = require('fs-extra');
const path = require('path');

module.exports = function (outputDir, target = 'miniapp') {
  fse.ensureDirSync(outputDir);

  fse.copySync(path.resolve(__dirname, `../template/miniapp/${target}/`), outputDir, {
    filter: (filepath) => {
      // filter out invalid demo dir
      return !/pages\/Demo/.test(filepath);
    },
  });
};
